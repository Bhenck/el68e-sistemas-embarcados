#line 1 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\uartstdio.c"
























#line 1 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\stdbool.h"
 
 





  #pragma system_include
















 
#line 26 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\uartstdio.c"
#line 1 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\stdint.h"
 
 




  #pragma system_include


#line 1 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\ycheck.h"
 
 

 


  #pragma system_include















 





#line 11 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\stdint.h"
#line 1 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\yvals.h"
 
 





  #pragma system_include


 









  


 


 




 
#pragma rtmodel = "__dlib_version", "6"

 





 
#line 1 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\DLib_Defaults.h"



























 





  #pragma system_include


 
#line 1 "C:\\\\Program Files (x86)\\\\IAR Systems\\\\Embedded Workbench 8.2\\\\arm\\\\inc\\\\c\\\\DLib_Config_Normal.h"
 
 





  #pragma system_include


 

#line 40 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\DLib_Defaults.h"
   
#line 47 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\DLib_Defaults.h"

 
#line 1 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\DLib_Product.h"
 





   #pragma system_include







 




 



 



 



 


 









 


 


 






 




 




 


 


 


 
#line 106 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\DLib_Product.h"









#line 51 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\DLib_Defaults.h"











 



















 














 


























 








 






 

#line 153 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\DLib_Defaults.h"









 

#line 172 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\DLib_Defaults.h"













 
















 








 
#line 223 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\DLib_Defaults.h"













 
















 





















 














 








 
#line 311 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\DLib_Defaults.h"








 
#line 331 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\DLib_Defaults.h"






 








 















 








 
















 




#line 400 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\DLib_Defaults.h"





 

#line 414 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\DLib_Defaults.h"


   
#line 424 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\DLib_Defaults.h"

#line 432 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\DLib_Defaults.h"

  







 









 









 







 







 
















 


   
#line 504 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\DLib_Defaults.h"




 










 

#line 528 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\DLib_Defaults.h"






 










 













 

#line 568 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\DLib_Defaults.h"



 












#line 43 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\yvals.h"



















 

#line 83 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\yvals.h"

 







 
#line 102 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\yvals.h"














 


   
#line 128 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\yvals.h"





 
#line 141 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\yvals.h"










 
#line 196 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\yvals.h"

#line 204 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\yvals.h"

#line 211 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\yvals.h"

 


 




 
#line 232 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\yvals.h"
  typedef unsigned int _Wchart;

    typedef unsigned int _Wintt;
#line 255 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\yvals.h"

 


 
typedef unsigned int     _Sizet;

 
typedef struct _Mbstatet
{  

    unsigned int _Wchar;   
    unsigned int _State;   
#line 275 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\yvals.h"

#line 299 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\yvals.h"
} _Mbstatet;






 


 





  typedef struct __va_list
  {
    char  *_Ap;
  } __va_list;
  typedef __va_list __Va_list;
















 
typedef struct
{       

    long long _Off;     



  _Mbstatet _Wstate;
} _Fpost;





 


 

  
    
  _Pragma("object_attribute = __weak") __intrinsic __nounwind void __iar_Locksyslock_Malloc(void);
  _Pragma("object_attribute = __weak") __intrinsic __nounwind void __iar_Locksyslock_Stream(void);
  _Pragma("object_attribute = __weak") __intrinsic __nounwind void __iar_Locksyslock_Debug(void);
  _Pragma("object_attribute = __weak") __intrinsic __nounwind void __iar_Locksyslock_StaticGuard(void);
  _Pragma("object_attribute = __weak") __intrinsic __nounwind void __iar_Unlocksyslock_Malloc(void);
  _Pragma("object_attribute = __weak") __intrinsic __nounwind void __iar_Unlocksyslock_Stream(void);
  _Pragma("object_attribute = __weak") __intrinsic __nounwind void __iar_Unlocksyslock_Debug(void);
  _Pragma("object_attribute = __weak") __intrinsic __nounwind void __iar_Unlocksyslock_StaticGuard(void);

#line 373 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\yvals.h"

  typedef void *__iar_Rmtx;

  _Pragma("object_attribute = __weak") __intrinsic __nounwind void __iar_Initdynamiclock(__iar_Rmtx *);
  _Pragma("object_attribute = __weak") __intrinsic __nounwind void __iar_Dstdynamiclock(__iar_Rmtx *);
  _Pragma("object_attribute = __weak") __intrinsic __nounwind void __iar_Lockdynamiclock(__iar_Rmtx *);
  _Pragma("object_attribute = __weak") __intrinsic __nounwind void __iar_Unlockdynamiclock(__iar_Rmtx *);

  
#line 406 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\yvals.h"

#line 446 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\yvals.h"






 
#line 12 "C:\\Program Files (x86)\\IAR Systems\\Embedded Workbench 8.2\\arm\\inc\\c\\stdint.h"





 

  typedef signed char          int8_t;
  typedef unsigned char        uint8_t;



  typedef signed short int         int16_t;
  typedef unsigned short int       uint16_t;



  typedef signed int         int32_t;
  typedef unsigned int       uint32_t;



  typedef signed long long int         int64_t;
  typedef unsigned long long int       uint64_t;



 
typedef signed char      int_least8_t;
typedef unsigned char    uint_least8_t;

typedef signed short int     int_least16_t;
typedef unsigned short int   uint_least16_t;

typedef signed int     int_least32_t;
typedef unsigned int   uint_least32_t;

 

  typedef signed long long int   int_least64_t;


  typedef unsigned long long int uint_least64_t;




 
typedef signed int       int_fast8_t;
typedef unsigned int     uint_fast8_t;

typedef signed int      int_fast16_t;
typedef unsigned int    uint_fast16_t;

typedef signed int      int_fast32_t;
typedef unsigned int    uint_fast32_t;


  typedef signed long long int    int_fast64_t;


  typedef unsigned long long int  uint_fast64_t;


 
typedef signed long long int          intmax_t;
typedef unsigned long long int        uintmax_t;


 
typedef signed int          intptr_t;
typedef unsigned int        uintptr_t;

 



typedef int __data_intptr_t; typedef unsigned int __data_uintptr_t;


 

























































































 



































 
#line 27 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\uartstdio.c"
#include <stdarg.h>
#line 1 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\inc/hw_ints.h"
















































#line 58 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\inc/hw_ints.h"






#line 94 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\inc/hw_ints.h"
                                            
#line 170 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\inc/hw_ints.h"






#line 244 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\inc/hw_ints.h"
                                            
#line 283 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\inc/hw_ints.h"






#line 339 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\inc/hw_ints.h"













#line 475 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\inc/hw_ints.h"
















#line 29 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\uartstdio.c"
#line 1 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\inc/hw_memmap.h"
















































#line 116 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\inc/hw_memmap.h"
                                            

                                            

                                            
#line 141 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\inc/hw_memmap.h"
                                            

                                            
#line 150 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\inc/hw_memmap.h"

#line 30 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\uartstdio.c"
#line 1 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\inc/hw_types.h"















































#line 63 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\inc/hw_types.h"




















































































#line 31 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\uartstdio.c"
#line 1 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\inc/hw_uart.h"















































#line 55 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\inc/hw_uart.h"
                                            
#line 68 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\inc/hw_uart.h"






#line 80 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\inc/hw_uart.h"
























#line 113 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\inc/hw_uart.h"






























#line 154 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\inc/hw_uart.h"






#line 173 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\inc/hw_uart.h"







                                            
#line 187 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\inc/hw_uart.h"
                                            















                                            

                                            



                                            

                                            



                                            

                                            

                                            

                                            







                                            



                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            







                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            

                                            










                                            
#line 311 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\inc/hw_uart.h"
                                            

                                            

                                            

                                            














































                                            


#line 32 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\uartstdio.c"
#line 1 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/debug.h"
















































extern void __error__(char *pcFilename, uint32_t ui32Line);







#line 69 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/debug.h"

#line 33 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\uartstdio.c"
#line 1 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/interrupt.h"


































































extern _Bool IntMasterEnable(void);
extern _Bool IntMasterDisable(void);
extern void IntRegister(uint32_t ui32Interrupt, void (*pfnHandler)(void));
extern void IntUnregister(uint32_t ui32Interrupt);
extern void IntPriorityGroupingSet(uint32_t ui32Bits);
extern uint32_t IntPriorityGroupingGet(void);
extern void IntPrioritySet(uint32_t ui32Interrupt,
                           uint8_t ui8Priority);
extern int32_t IntPriorityGet(uint32_t ui32Interrupt);
extern void IntEnable(uint32_t ui32Interrupt);
extern void IntDisable(uint32_t ui32Interrupt);
extern uint32_t IntIsEnabled(uint32_t ui32Interrupt);
extern void IntPendSet(uint32_t ui32Interrupt);
extern void IntPendClear(uint32_t ui32Interrupt);
extern void IntPriorityMaskSet(uint32_t ui32PriorityMask);
extern uint32_t IntPriorityMaskGet(void);
extern void IntTrigger(uint32_t ui32Interrupt);










#line 34 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\uartstdio.c"
#line 1 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"


















































#line 76 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 117 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 458 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 634 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 829 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 914 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 957 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 1076 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 1250 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 1495 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 1966 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 2097 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 2193 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 2555 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 2940 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 3354 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 3493 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 3707 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 3787 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 3877 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 4244 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 4409 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 4536 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 5192 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 5381 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 5606 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 5990 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 6036 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 6112 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 6459 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 6913 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 7169 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 8105 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 8274 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"






#line 8345 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom.h"

#line 35 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\uartstdio.c"
#line 1 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"
















































#line 280 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 447 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 572 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 627 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 668 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 786 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 918 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 1148 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 1651 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 1741 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 1810 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 2068 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 2396 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 2759 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 2863 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 3065 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 3120 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 3210 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 3440 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 3551 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 3676 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 4102 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 4255 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 4408 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 4729 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 4763 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 4818 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 5069 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 5383 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 5557 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 6249 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 6367 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"






#line 6408 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/rom_map.h"

#line 36 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\uartstdio.c"
#line 1 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/sysctl.h"






























































#line 140 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/sysctl.h"








#line 155 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/sysctl.h"








#line 171 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/sysctl.h"







#line 185 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/sysctl.h"
                                            





















#line 214 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/sysctl.h"







#line 385 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/sysctl.h"







#line 462 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/sysctl.h"

















#line 486 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/sysctl.h"








                                            

                                            











#line 516 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/sysctl.h"






#line 535 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/sysctl.h"















#line 556 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/sysctl.h"


























extern uint32_t SysCtlSRAMSizeGet(void);
extern uint32_t SysCtlFlashSizeGet(void);
extern uint32_t SysCtlFlashSectorSizeGet(void);
extern _Bool SysCtlPeripheralPresent(uint32_t ui32Peripheral);
extern _Bool SysCtlPeripheralReady(uint32_t ui32Peripheral);
extern void SysCtlPeripheralPowerOn(uint32_t ui32Peripheral);
extern void SysCtlPeripheralPowerOff(uint32_t ui32Peripheral);
extern void SysCtlPeripheralReset(uint32_t ui32Peripheral);
extern void SysCtlPeripheralEnable(uint32_t ui32Peripheral);
extern void SysCtlPeripheralDisable(uint32_t ui32Peripheral);
extern void SysCtlPeripheralSleepEnable(uint32_t ui32Peripheral);
extern void SysCtlPeripheralSleepDisable(uint32_t ui32Peripheral);
extern void SysCtlPeripheralDeepSleepEnable(uint32_t ui32Peripheral);
extern void SysCtlPeripheralDeepSleepDisable(uint32_t ui32Peripheral);
extern void SysCtlPeripheralClockGating(_Bool bEnable);
extern void SysCtlIntRegister(void (*pfnHandler)(void));
extern void SysCtlIntUnregister(void);
extern void SysCtlIntEnable(uint32_t ui32Ints);
extern void SysCtlIntDisable(uint32_t ui32Ints);
extern void SysCtlIntClear(uint32_t ui32Ints);
extern uint32_t SysCtlIntStatus(_Bool bMasked);
extern void SysCtlLDOSleepSet(uint32_t ui32Voltage);
extern uint32_t SysCtlLDOSleepGet(void);
extern void SysCtlLDODeepSleepSet(uint32_t ui32Voltage);
extern uint32_t SysCtlLDODeepSleepGet(void);
extern void SysCtlSleepPowerSet(uint32_t ui32Config);
extern void SysCtlDeepSleepPowerSet(uint32_t ui32Config);
extern void SysCtlReset(void);
extern void SysCtlSleep(void);
extern void SysCtlDeepSleep(void);
extern uint32_t SysCtlResetCauseGet(void);
extern void SysCtlResetCauseClear(uint32_t ui32Causes);
extern void SysCtlBrownOutConfigSet(uint32_t ui32Config,
                                    uint32_t ui32Delay);
extern void SysCtlDelay(uint32_t ui32Count);
extern void SysCtlMOSCConfigSet(uint32_t ui32Config);
extern uint32_t SysCtlPIOSCCalibrate(uint32_t ui32Type);
extern void SysCtlClockSet(uint32_t ui32Config);
extern uint32_t SysCtlClockGet(void);
extern void SysCtlDeepSleepClockSet(uint32_t ui32Config);
extern void SysCtlDeepSleepClockConfigSet(uint32_t ui32Div,
                                          uint32_t ui32Config);
extern void SysCtlPWMClockSet(uint32_t ui32Config);
extern uint32_t SysCtlPWMClockGet(void);
extern void SysCtlIOSCVerificationSet(_Bool bEnable);
extern void SysCtlMOSCVerificationSet(_Bool bEnable);
extern void SysCtlPLLVerificationSet(_Bool bEnable);
extern void SysCtlClkVerificationClear(void);
extern void SysCtlGPIOAHBEnable(uint32_t ui32GPIOPeripheral);
extern void SysCtlGPIOAHBDisable(uint32_t ui32GPIOPeripheral);
extern void SysCtlUSBPLLEnable(void);
extern void SysCtlUSBPLLDisable(void);
extern uint32_t SysCtlClockFreqSet(uint32_t ui32Config,
                                   uint32_t ui32SysClock);
extern void SysCtlResetBehaviorSet(uint32_t ui32Behavior);
extern uint32_t SysCtlResetBehaviorGet(void);
extern void SysCtlClockOutConfig(uint32_t ui32Config, uint32_t ui32Div);
extern void SysCtlAltClkConfig(uint32_t ui32Config);
extern uint32_t SysCtlNMIStatus(void);
extern void SysCtlNMIClear(uint32_t ui32Status);
extern void SysCtlVoltageEventConfig(uint32_t ui32Config);
extern uint32_t SysCtlVoltageEventStatus(void);
extern void SysCtlVoltageEventClear(uint32_t ui32Status);
extern _Bool SysCtlVCOGet(uint32_t ui32Crystal, uint32_t *pui32VCOFrequency);










#line 37 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\uartstdio.c"
#line 1 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/uart.h"



























































#line 74 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/uart.h"










#line 98 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\driverlib/uart.h"
































































































extern void UARTParityModeSet(uint32_t ui32Base, uint32_t ui32Parity);
extern uint32_t UARTParityModeGet(uint32_t ui32Base);
extern void UARTFIFOLevelSet(uint32_t ui32Base, uint32_t ui32TxLevel,
                             uint32_t ui32RxLevel);
extern void UARTFIFOLevelGet(uint32_t ui32Base, uint32_t *pui32TxLevel,
                             uint32_t *pui32RxLevel);
extern void UARTConfigSetExpClk(uint32_t ui32Base, uint32_t ui32UARTClk,
                                uint32_t ui32Baud, uint32_t ui32Config);
extern void UARTConfigGetExpClk(uint32_t ui32Base, uint32_t ui32UARTClk,
                                uint32_t *pui32Baud, uint32_t *pui32Config);
extern void UARTEnable(uint32_t ui32Base);
extern void UARTDisable(uint32_t ui32Base);
extern void UARTFIFOEnable(uint32_t ui32Base);
extern void UARTFIFODisable(uint32_t ui32Base);
extern void UARTEnableSIR(uint32_t ui32Base, _Bool bLowPower);
extern void UARTDisableSIR(uint32_t ui32Base);
extern _Bool UARTCharsAvail(uint32_t ui32Base);
extern _Bool UARTSpaceAvail(uint32_t ui32Base);
extern int32_t UARTCharGetNonBlocking(uint32_t ui32Base);
extern int32_t UARTCharGet(uint32_t ui32Base);
extern _Bool UARTCharPutNonBlocking(uint32_t ui32Base, unsigned char ucData);
extern void UARTCharPut(uint32_t ui32Base, unsigned char ucData);
extern void UARTBreakCtl(uint32_t ui32Base, _Bool bBreakState);
extern _Bool UARTBusy(uint32_t ui32Base);
extern void UARTIntRegister(uint32_t ui32Base, void (*pfnHandler)(void));
extern void UARTIntUnregister(uint32_t ui32Base);
extern void UARTIntEnable(uint32_t ui32Base, uint32_t ui32IntFlags);
extern void UARTIntDisable(uint32_t ui32Base, uint32_t ui32IntFlags);
extern uint32_t UARTIntStatus(uint32_t ui32Base, _Bool bMasked);
extern void UARTIntClear(uint32_t ui32Base, uint32_t ui32IntFlags);
extern void UARTDMAEnable(uint32_t ui32Base, uint32_t ui32DMAFlags);
extern void UARTDMADisable(uint32_t ui32Base, uint32_t ui32DMAFlags);
extern uint32_t UARTRxErrorGet(uint32_t ui32Base);
extern void UARTRxErrorClear(uint32_t ui32Base);
extern void UARTSmartCardEnable(uint32_t ui32Base);
extern void UARTSmartCardDisable(uint32_t ui32Base);
extern void UARTModemControlSet(uint32_t ui32Base, uint32_t ui32Control);
extern void UARTModemControlClear(uint32_t ui32Base, uint32_t ui32Control);
extern uint32_t UARTModemControlGet(uint32_t ui32Base);
extern uint32_t UARTModemStatusGet(uint32_t ui32Base);
extern void UARTFlowControlSet(uint32_t ui32Base, uint32_t ui32Mode);
extern uint32_t UARTFlowControlGet(uint32_t ui32Base);
extern void UARTTxIntModeSet(uint32_t ui32Base, uint32_t ui32Mode);
extern uint32_t UARTTxIntModeGet(uint32_t ui32Base);
extern void UARTClockSourceSet(uint32_t ui32Base, uint32_t ui32Source);
extern uint32_t UARTClockSourceGet(uint32_t ui32Base);
extern void UART9BitEnable(uint32_t ui32Base);
extern void UART9BitDisable(uint32_t ui32Base);
extern void UART9BitAddrSet(uint32_t ui32Base, uint8_t ui8Addr,
                            uint8_t ui8Mask);
extern void UART9BitAddrSend(uint32_t ui32Base, uint8_t ui8Addr);
extern void UARTLoopbackEnable(uint32_t ui32Base);










#line 38 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\uartstdio.c"
#line 1 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\utils/uartstdio.h"



























#include <stdarg.h>


















#line 55 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\..\\utils/uartstdio.h"






extern void UARTStdioConfig(uint32_t ui32Port, uint32_t ui32Baud,
                            uint32_t ui32SrcClock);
extern int UARTgets(char *pcBuf, uint32_t ui32Len);
extern unsigned char UARTgetc(void);
extern void UARTprintf(const char *pcString, ...);
extern void UARTvprintf(const char *pcString, va_list vaArgP);
extern int UARTwrite(const char *pcBuf, uint32_t ui32Len);

extern int UARTPeek(unsigned char ucChar);
extern void UARTFlushTx(_Bool bDiscard);
extern void UARTFlushRx(void);
extern int UARTRxBytesAvail(void);
extern int UARTTxBytesFree(void);
extern void UARTEchoSet(_Bool bEnable);











#line 39 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\uartstdio.c"

























static _Bool g_bDisableEcho;







static unsigned char g_pcUARTTxBuffer[1024];
static volatile uint32_t g_ui32UARTTxWriteIndex = 0;
static volatile uint32_t g_ui32UARTTxReadIndex = 0;







static unsigned char g_pcUARTRxBuffer[128];
static volatile uint32_t g_ui32UARTRxWriteIndex = 0;
static volatile uint32_t g_ui32UARTRxReadIndex = 0;






#line 102 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\uartstdio.c"






#line 120 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\uartstdio.c"






static uint32_t g_ui32Base = 0;







static const char * const g_pcHex = "0123456789abcdef";






static const uint32_t g_ui32UARTBase[3] =
{
    0x4000C000, 0x4000D000, 0x4000E000
};







static const uint32_t g_ui32UARTInt[3] =
{
    21, 22, 49
};






static uint32_t g_ui32PortNum;







static const uint32_t g_ui32UARTPeriph[3] =
{
    0xf0001800, 0xf0001801, 0xf0001802
};



















static _Bool
IsBufferFull(volatile uint32_t *pui32Read,
             volatile uint32_t *pui32Write, uint32_t ui32Size)
{
    uint32_t ui32Write;
    uint32_t ui32Read;

    ui32Write = *pui32Write;
    ui32Read = *pui32Read;

    return((((ui32Write + 1) % ui32Size) == ui32Read) ? 1 : 0);
}



















static _Bool
IsBufferEmpty(volatile uint32_t *pui32Read,
              volatile uint32_t *pui32Write)
{
    uint32_t ui32Write;
    uint32_t ui32Read;

    ui32Write = *pui32Write;
    ui32Read = *pui32Read;

    return((ui32Write == ui32Read) ? 1 : 0);
}



















static uint32_t
GetBufferCount(volatile uint32_t *pui32Read,
               volatile uint32_t *pui32Write, uint32_t ui32Size)
{
    uint32_t ui32Write;
    uint32_t ui32Read;

    ui32Write = *pui32Write;
    ui32Read = *pui32Read;

    return((ui32Write >= ui32Read) ? (ui32Write - ui32Read) :
           (ui32Size - (ui32Read - ui32Write)));
}









static void
UARTPrimeTransmit(uint32_t ui32Base)
{
    
    
    
    if(!(IsBufferEmpty(&g_ui32UARTTxReadIndex, &g_ui32UARTTxWriteIndex)))
    {
        
        
        
        
        IntDisable(g_ui32UARTInt[g_ui32PortNum]);

        
        
        
        
        while(UARTSpaceAvail(ui32Base) && !(IsBufferEmpty(&g_ui32UARTTxReadIndex, &g_ui32UARTTxWriteIndex)))
        {
            UARTCharPutNonBlocking(ui32Base,
                                      g_pcUARTTxBuffer[g_ui32UARTTxReadIndex]);
            (g_ui32UARTTxReadIndex) = ((g_ui32UARTTxReadIndex) + 1) % 1024;
        }

        
        
        
        IntEnable(g_ui32UARTInt[g_ui32PortNum]);
    }
}

























void
UARTStdioConfig(uint32_t ui32PortNum, uint32_t ui32Baud, uint32_t ui32SrcClock)
{
    
    
    
    ;



    
    
    
    ;


    
    
    
    if(!SysCtlPeripheralPresent(g_ui32UARTPeriph[ui32PortNum]))
    {
        return;
    }

    
    
    
    g_ui32Base = g_ui32UARTBase[ui32PortNum];

    
    
    
    SysCtlPeripheralEnable(g_ui32UARTPeriph[ui32PortNum]);

    
    
    
    UARTConfigSetExpClk(g_ui32Base, ui32SrcClock, ui32Baud,
                            (0x00000000 | 0x00000000 |
                             0x00000060));


    
    
    
    
    UARTFIFOLevelSet(g_ui32Base, 0x00000000, 0x00000000);

    
    
    
    UARTFlushRx();
    UARTFlushTx(1);

    
    
    
    g_ui32PortNum = ui32PortNum;

    
    
    
    
    
    
    UARTIntDisable(g_ui32Base, 0xFFFFFFFF);
    UARTIntEnable(g_ui32Base, 0x010 | 0x040);
    IntEnable(g_ui32UARTInt[ui32PortNum]);


    
    
    
    UARTEnable(g_ui32Base);
}



























int
UARTwrite(const char *pcBuf, uint32_t ui32Len)
{

    unsigned int uIdx;

    
    
    
    ;
    ;

    
    
    
    for(uIdx = 0; uIdx < ui32Len; uIdx++)
    {
        
        
        
        
        if(pcBuf[uIdx] == '\n')
        {
            if(!(IsBufferFull(&g_ui32UARTTxReadIndex, &g_ui32UARTTxWriteIndex, 1024)))
            {
                g_pcUARTTxBuffer[g_ui32UARTTxWriteIndex] = '\r';
                (g_ui32UARTTxWriteIndex) = ((g_ui32UARTTxWriteIndex) + 1) % 1024;
            }
            else
            {
                
                
                
                break;
            }
        }

        
        
        
        if(!(IsBufferFull(&g_ui32UARTTxReadIndex, &g_ui32UARTTxWriteIndex, 1024)))
        {
            g_pcUARTTxBuffer[g_ui32UARTTxWriteIndex] = pcBuf[uIdx];
            (g_ui32UARTTxWriteIndex) = ((g_ui32UARTTxWriteIndex) + 1) % 1024;
        }
        else
        {
            
            
            
            break;
        }
    }

    
    
    
    
    if(!(IsBufferEmpty(&g_ui32UARTTxReadIndex, &g_ui32UARTTxWriteIndex)))
    {
        UARTPrimeTransmit(g_ui32Base);
        UARTIntEnable(g_ui32Base, 0x020);
    }

    
    
    
    return(uIdx);
#line 537 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\uartstdio.c"
}






























int
UARTgets(char *pcBuf, uint32_t ui32Len)
{

    uint32_t ui32Count = 0;
    int8_t cChar;

    
    
    
    ;
    ;
    ;

    
    
    
    
    ui32Len--;

    
    
    
    while(1)
    {
        
        
        
        if(!(IsBufferEmpty(&g_ui32UARTRxReadIndex, &g_ui32UARTRxWriteIndex)))
        {
            cChar = g_pcUARTRxBuffer[g_ui32UARTRxReadIndex];
            (g_ui32UARTRxReadIndex) = ((g_ui32UARTRxReadIndex) + 1) % 128;

            
            
            
            if((cChar == '\r') || (cChar == '\n') || (cChar == 0x1b))
            {
                
                
                
                break;
            }

            
            
            
            
            
            
            if(ui32Count < ui32Len)
            {
                
                
                
                pcBuf[ui32Count] = cChar;

                
                
                
                ui32Count++;
            }
        }
    }

    
    
    
    pcBuf[ui32Count] = 0;

    
    
    
    return(ui32Count);
#line 768 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\uartstdio.c"
}
















unsigned char
UARTgetc(void)
{

    unsigned char cChar;

    
    
    
    while((IsBufferEmpty(&g_ui32UARTRxReadIndex, &g_ui32UARTRxWriteIndex)))
    {
        
        
        
        
    }

    
    
    
    cChar = g_pcUARTRxBuffer[g_ui32UARTRxReadIndex];
    (g_ui32UARTRxReadIndex) = ((g_ui32UARTRxReadIndex) + 1) % 128;

    
    
    
    return(cChar);
#line 819 "C:\\repositories\\sistemas-embarcados\\lab-1\\utils\\uartstdio.c"
}







































void
UARTvprintf(const char *pcString, va_list vaArgP)
{
    uint32_t ui32Idx, ui32Value, ui32Pos, ui32Count, ui32Base, ui32Neg;
    char *pcStr, pcBuf[16], cFill;

    
    
    
    ;

    
    
    
    while(*pcString)
    {
        
        
        
        for(ui32Idx = 0;
            (pcString[ui32Idx] != '%') && (pcString[ui32Idx] != '\0');
            ui32Idx++)
        {
        }

        
        
        
        UARTwrite(pcString, ui32Idx);

        
        
        
        pcString += ui32Idx;

        
        
        
        if(*pcString == '%')
        {
            
            
            
            pcString++;

            
            
            
            
            ui32Count = 0;
            cFill = ' ';

            
            
            
            
            
again:

            
            
            
            switch(*pcString++)
            {
                
                
                
                case '0':
                case '1':
                case '2':
                case '3':
                case '4':
                case '5':
                case '6':
                case '7':
                case '8':
                case '9':
                {
                    
                    
                    
                    
                    if((pcString[-1] == '0') && (ui32Count == 0))
                    {
                        cFill = '0';
                    }

                    
                    
                    
                    ui32Count *= 10;
                    ui32Count += pcString[-1] - '0';

                    
                    
                    
                    goto again;
                }

                
                
                
                case 'c':
                {
                    
                    
                    
                    ui32Value = va_arg(vaArgP, uint32_t);

                    
                    
                    
                    UARTwrite((char *)&ui32Value, 1);

                    
                    
                    
                    break;
                }

                
                
                
                case 'd':
                case 'i':
                {
                    
                    
                    
                    ui32Value = va_arg(vaArgP, uint32_t);

                    
                    
                    
                    ui32Pos = 0;

                    
                    
                    
                    
                    if((int32_t)ui32Value < 0)
                    {
                        
                        
                        
                        ui32Value = -(int32_t)ui32Value;

                        
                        
                        
                        ui32Neg = 1;
                    }
                    else
                    {
                        
                        
                        
                        
                        ui32Neg = 0;
                    }

                    
                    
                    
                    ui32Base = 10;

                    
                    
                    
                    goto convert;
                }

                
                
                
                case 's':
                {
                    
                    
                    
                    pcStr = va_arg(vaArgP, char *);

                    
                    
                    
                    for(ui32Idx = 0; pcStr[ui32Idx] != '\0'; ui32Idx++)
                    {
                    }

                    
                    
                    
                    UARTwrite(pcStr, ui32Idx);

                    
                    
                    
                    if(ui32Count > ui32Idx)
                    {
                        ui32Count -= ui32Idx;
                        while(ui32Count--)
                        {
                            UARTwrite(" ", 1);
                        }
                    }

                    
                    
                    
                    break;
                }

                
                
                
                case 'u':
                {
                    
                    
                    
                    ui32Value = va_arg(vaArgP, uint32_t);

                    
                    
                    
                    ui32Pos = 0;

                    
                    
                    
                    ui32Base = 10;

                    
                    
                    
                    
                    ui32Neg = 0;

                    
                    
                    
                    goto convert;
                }

                
                
                
                
                
                
                case 'x':
                case 'X':
                case 'p':
                {
                    
                    
                    
                    ui32Value = va_arg(vaArgP, uint32_t);

                    
                    
                    
                    ui32Pos = 0;

                    
                    
                    
                    ui32Base = 16;

                    
                    
                    
                    
                    ui32Neg = 0;

                    
                    
                    
                    
convert:
                    for(ui32Idx = 1;
                        (((ui32Idx * ui32Base) <= ui32Value) &&
                         (((ui32Idx * ui32Base) / ui32Base) == ui32Idx));
                        ui32Idx *= ui32Base, ui32Count--)
                    {
                    }

                    
                    
                    
                    
                    if(ui32Neg)
                    {
                        ui32Count--;
                    }

                    
                    
                    
                    
                    if(ui32Neg && (cFill == '0'))
                    {
                        
                        
                        
                        pcBuf[ui32Pos++] = '-';

                        
                        
                        
                        
                        ui32Neg = 0;
                    }

                    
                    
                    
                    
                    if((ui32Count > 1) && (ui32Count < 16))
                    {
                        for(ui32Count--; ui32Count; ui32Count--)
                        {
                            pcBuf[ui32Pos++] = cFill;
                        }
                    }

                    
                    
                    
                    
                    if(ui32Neg)
                    {
                        
                        
                        
                        pcBuf[ui32Pos++] = '-';
                    }

                    
                    
                    
                    for(; ui32Idx; ui32Idx /= ui32Base)
                    {
                        pcBuf[ui32Pos++] =
                            g_pcHex[(ui32Value / ui32Idx) % ui32Base];
                    }

                    
                    
                    
                    UARTwrite(pcBuf, ui32Pos);

                    
                    
                    
                    break;
                }

                
                
                
                case '%':
                {
                    
                    
                    
                    UARTwrite(pcString - 1, 1);

                    
                    
                    
                    break;
                }

                
                
                
                default:
                {
                    
                    
                    
                    UARTwrite("ERROR", 5);

                    
                    
                    
                    break;
                }
            }
        }
    }
}







































void
UARTprintf(const char *pcString, ...)
{
    va_list vaArgP;

    
    
    
    va_start(vaArgP, pcString);

    UARTvprintf(pcString, vaArgP);

    
    
    
    va_end(vaArgP);
}













int
UARTRxBytesAvail(void)
{
    return((GetBufferCount(&g_ui32UARTRxReadIndex, &g_ui32UARTRxWriteIndex, 128)));
}














int
UARTTxBytesFree(void)
{
    return((1024 - (GetBufferCount(&g_ui32UARTTxReadIndex, &g_ui32UARTTxWriteIndex, 1024))));
}






















int
UARTPeek(unsigned char ucChar)
{
    int iCount;
    int iAvail;
    uint32_t ui32ReadIndex;

    
    
    
    iAvail = (int)(GetBufferCount(&g_ui32UARTRxReadIndex, &g_ui32UARTRxWriteIndex, 128));
    ui32ReadIndex = g_ui32UARTRxReadIndex;

    
    
    
    for(iCount = 0; iCount < iAvail; iCount++)
    {
        if(g_pcUARTRxBuffer[ui32ReadIndex] == ucChar)
        {
            
            
            
            return(iCount);
        }
        else
        {
            
            
            
            (ui32ReadIndex) = ((ui32ReadIndex) + 1) % 128;
        }
    }

    
    
    
    
    return(-1);
}














void
UARTFlushRx(void)
{
    uint32_t ui32Int;

    
    
    
    ui32Int = IntMasterDisable();

    
    
    
    g_ui32UARTRxReadIndex = 0;
    g_ui32UARTRxWriteIndex = 0;

    
    
    
    
    if(!ui32Int)
    {
        IntMasterEnable();
    }
}



















void
UARTFlushTx(_Bool bDiscard)
{
    uint32_t ui32Int;

    
    
    
    if(bDiscard)
    {
        
        
        
        
        ui32Int = IntMasterDisable();

        
        
        
        g_ui32UARTTxReadIndex = 0;
        g_ui32UARTTxWriteIndex = 0;

        
        
        
        
        if(!ui32Int)
        {
            IntMasterEnable();
        }
    }
    else
    {
        
        
        
        while(!(IsBufferEmpty(&g_ui32UARTTxReadIndex, &g_ui32UARTTxWriteIndex)))
        {
        }
    }
}























void
UARTEchoSet(_Bool bEnable)
{
    g_bDisableEcho = !bEnable;
}















void
UARTStdioIntHandler(void)
{
    uint32_t ui32Ints;
    int8_t cChar;
    int32_t i32Char;
    static _Bool bLastWasCR = 0;

    
    
    
    ui32Ints = UARTIntStatus(g_ui32Base, 1);
    UARTIntClear(g_ui32Base, ui32Ints);

    
    
    
    if(ui32Ints & 0x020)
    {
        
        
        
        UARTPrimeTransmit(g_ui32Base);

        
        
        
        if((IsBufferEmpty(&g_ui32UARTTxReadIndex, &g_ui32UARTTxWriteIndex)))
        {
            UARTIntDisable(g_ui32Base, 0x020);
        }
    }

    
    
    
    if(ui32Ints & (0x010 | 0x040))
    {
        
        
        
        while(UARTCharsAvail(g_ui32Base))
        {
            
            
            
            i32Char = UARTCharGetNonBlocking(g_ui32Base);
            cChar = (unsigned char)(i32Char & 0xFF);

            
            
            
            
            
            if(!g_bDisableEcho)
            {
                
                
                
                
                if(cChar == '\b')
                {
                    
                    
                    
                    
                    if(!(IsBufferEmpty(&g_ui32UARTRxReadIndex, &g_ui32UARTRxWriteIndex)))
                    {
                        
                        
                        
                        
                        UARTwrite("\b \b", 3);

                        
                        
                        
                        if(g_ui32UARTRxWriteIndex == 0)
                        {
                            g_ui32UARTRxWriteIndex = 128 - 1;
                        }
                        else
                        {
                            g_ui32UARTRxWriteIndex--;
                        }
                    }

                    
                    
                    
                    continue;
                }

                
                
                
                
                
                
                if((cChar == '\n') && bLastWasCR)
                {
                    bLastWasCR = 0;
                    continue;
                }

                
                
                
                if((cChar == '\r') || (cChar == '\n') || (cChar == 0x1b))
                {
                    
                    
                    
                    
                    
                    if(cChar == '\r')
                    {
                        bLastWasCR = 1;
                    }

                    
                    
                    
                    
                    
                    
                    
                    cChar = '\r';
                    UARTwrite("\n", 1);
                }
            }

            
            
            
            
            if(!(IsBufferFull(&g_ui32UARTRxReadIndex, &g_ui32UARTRxWriteIndex, 128)))
            {
                
                
                
                g_pcUARTRxBuffer[g_ui32UARTRxWriteIndex] =
                    (unsigned char)(i32Char & 0xFF);
                (g_ui32UARTRxWriteIndex) = ((g_ui32UARTRxWriteIndex) + 1) % 128;

                
                
                
                
                if(!g_bDisableEcho)
                {
                    UARTwrite((const char *)&cChar, 1);
                }
            }
        }

        
        
        
        
        UARTPrimeTransmit(g_ui32Base);
        UARTIntEnable(g_ui32Base, 0x020);
    }
}








